{"version":3,"file":"js/245.ccbd26e3.js","mappings":"2HAAc,WAAWA,GACvB,MAAMC,EAAIC,OAAOF,GACjB,MAAO,IAAIC,EAAEE,QAAQ,GAAGC,QAAQ,MAAM,CAACC,EAAGC,EAAGC,KAC3C,MAAMC,EACJF,GAAW,MAAND,IAAcE,EAAEE,OAASH,GAAK,IAAM,EACrC,KAAKD,IAAID,QAAQ,MAAO,IACxBC,EACN,OAAOG,CAAQ,KAEnB,C,0MCNA,MAAME,EAAeT,KAAMU,EAAAA,EAAAA,IAAa,mBAAmBV,EAAEA,KAAIW,EAAAA,EAAAA,MAAcX,GACzEY,EAAa,CAAEC,MAAO,iBACtBC,EAAa,CAAED,MAAO,cACtBE,EAA2BN,GAAa,KAAmBO,EAAAA,EAAAA,GAAoB,QAAS,KAAM,EACrFA,EAAAA,EAAAA,GAAoB,KAAM,KAAM,UAChCA,EAAAA,EAAAA,GAAoB,KAAM,KAAM,aAChCA,EAAAA,EAAAA,GAAoB,KAAM,KAAM,WAC3C,KACEC,EAA2BR,GAAa,KAAmBO,EAAAA,EAAAA,GAAoB,KAAM,KAAM,MAAO,KAClGE,EAA2BT,GAAa,KAAmBO,EAAAA,EAAAA,GAAoB,KAAM,KAAM,SAAU,KACrGG,EAAa,CAAEN,MAAO,eACtBO,EAA2BX,GAAa,KAAmBO,EAAAA,EAAAA,GAAoB,KAAM,KAAM,SAAU,KACrGK,EAA2BZ,GAAa,KAAmBO,EAAAA,EAAAA,GAAoB,KAAM,KAAM,QAAS,KACpGM,EAA2Bb,GAAa,KAAmBO,EAAAA,EAAAA,GAAoB,KAAM,KAAM,mBAAoB,KAC/GO,EAA4Bd,GAAa,KAAmBO,EAAAA,EAAAA,GAAoB,KAAM,KAAM,sBAAuB,KACnHQ,EAA4Bf,GAAa,KAAmBO,EAAAA,EAAAA,GAAoB,KAAM,KAAM,kBAAmB,KAC/GS,EAA4BhB,GAAa,KAAmBO,EAAAA,EAAAA,GAAoB,MAAO,CAAEH,MAAO,WAAa,EACpGG,EAAAA,EAAAA,GAAoB,SAAU,KAAM,SAC/C,KAmCJ,OAA4BU,EAAAA,EAAAA,IAAiB,CAC3CC,OAAQ,QACRC,KAAAA,CAAMC,GCsCR,MAAMC,GAAQC,EAAAA,EAAAA,MAERC,GAAYC,EAAAA,EAAAA,KAAI,GAEhBC,GAAYD,EAAAA,EAAAA,MAEZE,GAAQF,EAAAA,EAAAA,IAAI,GAEZG,GAAWH,EAAAA,EAAAA,IAAI,CACnBI,KAAM,GACNC,QAAS,GACTC,IAAK,GACLC,MAAO,KAGHC,GAAcR,EAAAA,EAAAA,KAAI,GAElBS,EAAeC,UACnBX,EAAUY,OAAQ,EAClB,MAAMC,EAAM,GAAGC,EAAAA,EAAOC,gBAAgBD,EAAAA,EAAOE,qBAAqBlB,EAAMmB,OAAOC,UACzEC,QAAiBC,EAAAA,EAAgBC,IAAIR,GAC3CX,EAAUU,MAAQO,EAASG,KAAKC,MAAMC,SACtCrB,EAAMS,MAAQO,EAASG,KAAKC,MAAMpB,MAClCC,EAASQ,MAAQO,EAASG,KAAKC,MAAME,KACrChB,EAAYG,MAAQO,EAASG,KAAKC,MAAMG,QACxCC,QAAQC,IAAIT,GACZnB,EAAUY,OAAQ,CAAK,EAmBnBiB,EAAgBlB,UACpBX,EAAUY,OAAQ,EAClB,MAAMC,EAAM,GAAGC,EAAAA,EAAOC,gBAAgBD,EAAAA,EAAOE,mBAAmBlB,EAAMmB,OAAOC,UACvEC,QAAiBC,EAAAA,EAAgBU,KAAKjB,GAC5Cc,QAAQC,IAAIT,GACZT,IACAV,EAAUY,OAAQ,CAAK,EDhBzB,OCiCAF,IDjCO,CAACqB,EAAUC,MACRC,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAoB,MAAOtD,EAAY,EAC3DuD,EAAAA,EAAAA,KAAaC,EAAAA,EAAAA,IAAOC,KAAU,CAC5BC,OAAQtC,EAAUY,MAClB,kBAAmBoB,EAAO,KAAOA,EAAO,GAAMO,GAAkBvC,EAAWY,MAAQ2B,IAClF,KAAM,EAAG,CAAC,YACbvD,EAAAA,EAAAA,GAAoB,OAAQ,CAC1BwD,UAAUC,EAAAA,EAAAA,IAAeZ,EAAe,CAAC,aACxC,EACD7C,EAAAA,EAAAA,GAAoB,MAAOF,EAAY,EACrCE,EAAAA,EAAAA,GAAoB,QAAS,KAAM,CACjCD,GACAC,EAAAA,EAAAA,GAAoB,QAAS,KAAM,GAChCiD,EAAAA,EAAAA,KAAW,IAAOC,EAAAA,EAAAA,IAAoBQ,EAAAA,GAAW,MAAMC,EAAAA,EAAAA,IAAYzC,EAAUU,OAAO,CAACgC,EAAMC,MAClFZ,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAoB,KAAM,CAAEY,IAAKD,GAAS,EAC9D7D,EAAAA,EAAAA,GAAoB,KAAM,MAAM+D,EAAAA,EAAAA,IAAiBH,EAAKI,QAAQC,OAAQ,IACtEjE,EAAAA,EAAAA,GAAoB,KAAM,MAAM+D,EAAAA,EAAAA,IAAiBH,EAAKM,KAAO,KAAMH,EAAAA,EAAAA,IAAiBH,EAAKI,QAAQG,MAAO,IACxGnE,EAAAA,EAAAA,GAAoB,KAAM,MAAM+D,EAAAA,EAAAA,KAAiBX,EAAAA,EAAAA,IAAO7D,EAAAA,EAAP6D,CAAiBQ,EAAKI,QAAQI,QAAS,QAExF,SAENpE,EAAAA,EAAAA,GAAoB,QAAS,KAAM,EACjCA,EAAAA,EAAAA,GAAoB,KAAM,KAAM,CAC9BC,EACAC,GACAF,EAAAA,EAAAA,GAAoB,KAAM,MAAM+D,EAAAA,EAAAA,KAAiBX,EAAAA,EAAAA,IAAO7D,EAAAA,EAAP6D,CAAiBjC,EAAMS,QAAS,YAKzF5B,EAAAA,EAAAA,GAAoB,MAAOG,EAAY,EACrCH,EAAAA,EAAAA,GAAoB,QAAS,KAAM,EACjCA,EAAAA,EAAAA,GAAoB,QAAS,KAAM,EACjCA,EAAAA,EAAAA,GAAoB,KAAM,KAAM,CAC9BI,GACAJ,EAAAA,EAAAA,GAAoB,KAAM,MAAM+D,EAAAA,EAAAA,IAAiB3C,EAASQ,MAAMJ,OAAQ,MAE1ExB,EAAAA,EAAAA,GAAoB,KAAM,KAAM,CAC9BK,GACAL,EAAAA,EAAAA,GAAoB,KAAM,MAAM+D,EAAAA,EAAAA,IAAiB3C,EAASQ,MAAMP,MAAO,MAEzErB,EAAAA,EAAAA,GAAoB,KAAM,KAAM,CAC9BM,GACAN,EAAAA,EAAAA,GAAoB,KAAM,MAAM+D,EAAAA,EAAAA,IAAiB3C,EAASQ,MAAML,KAAM,MAExEvB,EAAAA,EAAAA,GAAoB,KAAM,KAAM,CAC9BO,GACAP,EAAAA,EAAAA,GAAoB,KAAM,MAAM+D,EAAAA,EAAAA,IAAiB3C,EAASQ,MAAMN,SAAU,MAE5EtB,EAAAA,EAAAA,GAAoB,KAAM,KAAM,CAC9BQ,GACAR,EAAAA,EAAAA,GAAoB,KAAM,CACxBqE,OAAOC,EAAAA,EAAAA,IAAgB,CAAEC,MAAO9C,EAAYG,MAAQ,QAAU,UAC7DmC,EAAAA,EAAAA,IAAiBtC,EAAYG,MAAQ,eAAiB,gBAAiB,WAKlFnB,GACC,MAGP,I,QE3LA,MAAM+D,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://e-commerce-s01/./src/utils/filters/currency.ts","webpack://e-commerce-s01/./src/components/global/PayOrder/index.vue?2d4b","webpack://e-commerce-s01/./src/components/global/PayOrder/index.vue","webpack://e-commerce-s01/./src/components/global/PayOrder/index.vue?b1d7"],"sourcesContent":["export default function (num: number): string {\n  const n = Number(num);\n  return `$${n.toFixed(0).replace(/./g, (c, i, a) => {\n    const currency =\n      i && c !== \".\" && (a.length - i) % 3 === 0\n        ? `, ${c}`.replace(/\\s/g, \"\")\n        : c;\n    return currency;\n  })}`;\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-58b972d3\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"payOrder-wrap\" }\nconst _hoisted_2 = { class: \"left-table\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"thead\", null, [\n  /*#__PURE__*/_createElementVNode(\"th\", null, \"Title\"),\n  /*#__PURE__*/_createElementVNode(\"th\", null, \"Quantity\"),\n  /*#__PURE__*/_createElementVNode(\"th\", null, \"Price\")\n], -1))\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"td\", null, null, -1))\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"td\", null, \"Total\", -1))\nconst _hoisted_6 = { class: \"right-table\" }\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"th\", null, \"Email\", -1))\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"th\", null, \"Name\", -1))\nconst _hoisted_9 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"th\", null, \"Addressee Phone\", -1))\nconst _hoisted_10 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"th\", null, \"receiver's address\", -1))\nconst _hoisted_11 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"th\", null, \"payment status\", -1))\nconst _hoisted_12 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"pay-btn\" }, [\n  /*#__PURE__*/_createElementVNode(\"button\", null, \"pay\")\n], -1))\n\nimport { useRoute } from \"vue-router\";\nimport { ref } from \"vue\";\nimport Loading from \"vue-loading-overlay\";\nimport \"vue-loading-overlay/dist/css/index.css\";\nimport currency from \"../../../utils/filters/currency\";\nimport config from \"../../../../config/dev.env\";\nimport errInterceptors from \"@/errInterceptors\";\n\ninterface GetList {\n  category: string;\n  content: string;\n  description: string;\n  id: string;\n  imageUrl: string;\n  is_enabled: number;\n  origin_price: number;\n  price: number;\n  title: string;\n  unit: string;\n  num: number;\n  image: string;\n}\n\ninterface UpdateGetList {\n  final_total: number;\n  id: string;\n  product: GetList;\n  product_id: string;\n  qty: number;\n  total: number;\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\n// import axios from \"axios\";\nconst route = useRoute();\n\nconst isLoading = ref(false);\n\nconst orderList = ref();\n\nconst total = ref(0);\n\nconst userData = ref({\n  name: \"\",\n  address: \"\",\n  tel: \"\",\n  email: \"\",\n});\n\nconst colorStatus = ref(false);\n\nconst getOrderList = async () => {\n  isLoading.value = true;\n  const api = `${config.API_PATH}/api/${config.CUSTOM_PATH}/order/${route.params.orderId}`;\n  const response = await errInterceptors.get(api);\n  orderList.value = response.data.order.products as UpdateGetList;\n  total.value = response.data.order.total;\n  userData.value = response.data.order.user;\n  colorStatus.value = response.data.order.is_paid;\n  console.log(response);\n  isLoading.value = false;\n};\n// const getOrderList = async () => {\n//   isLoading.value = true;\n//   const api = `${config.API_PATH}/api/${config.CUSTOM_PATH}/order/${route.params.orderId}`;\n//   try {\n//     const response = await axios.get(api);\n//     orderList.value = response.data.order.products as UpdateGetList;\n//     total.value = response.data.order.total;\n//     userData.value = response.data.order.user;\n//     colorStatus.value = response.data.order.is_paid;\n//     console.log(response);\n//   } catch (error) {\n//     console.log(error);\n//   } finally {\n//     isLoading.value = false;\n//   }\n// };\n\nconst payOrderMoney = async () => {\n  isLoading.value = true;\n  const api = `${config.API_PATH}/api/${config.CUSTOM_PATH}/pay/${route.params.orderId}`;\n  const response = await errInterceptors.post(api);\n  console.log(response);\n  getOrderList();\n  isLoading.value = false;\n};\n\n// const payOrderMoney = async () => {\n//   isLoading.value = true;\n//   const api = `${config.API_PATH}/api/${config.CUSTOM_PATH}/pay/${route.params.orderId}`;\n//   try {\n//     const response = await axios.post(api);\n//     console.log(response);\n//     getOrderList();\n//   } catch (error) {\n//     console.log(error);\n//   } finally {\n//     isLoading.value = false;\n//   }\n// };\n\ngetOrderList();\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_unref(Loading), {\n      active: isLoading.value,\n      \"onUpdate:active\": _cache[0] || (_cache[0] = ($event: any) => ((isLoading).value = $event))\n    }, null, 8, [\"active\"]),\n    _createElementVNode(\"form\", {\n      onSubmit: _withModifiers(payOrderMoney, [\"prevent\"])\n    }, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createElementVNode(\"table\", null, [\n          _hoisted_3,\n          _createElementVNode(\"tbody\", null, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(orderList.value, (list, index) => {\n              return (_openBlock(), _createElementBlock(\"tr\", { key: index }, [\n                _createElementVNode(\"td\", null, _toDisplayString(list.product.title), 1),\n                _createElementVNode(\"td\", null, _toDisplayString(list.qty) + \" \" + _toDisplayString(list.product.unit), 1),\n                _createElementVNode(\"td\", null, _toDisplayString(_unref(currency)(list.product.price)), 1)\n              ]))\n            }), 128))\n          ]),\n          _createElementVNode(\"tfoot\", null, [\n            _createElementVNode(\"tr\", null, [\n              _hoisted_4,\n              _hoisted_5,\n              _createElementVNode(\"td\", null, _toDisplayString(_unref(currency)(total.value)), 1)\n            ])\n          ])\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_6, [\n        _createElementVNode(\"table\", null, [\n          _createElementVNode(\"tbody\", null, [\n            _createElementVNode(\"tr\", null, [\n              _hoisted_7,\n              _createElementVNode(\"td\", null, _toDisplayString(userData.value.email), 1)\n            ]),\n            _createElementVNode(\"tr\", null, [\n              _hoisted_8,\n              _createElementVNode(\"td\", null, _toDisplayString(userData.value.name), 1)\n            ]),\n            _createElementVNode(\"tr\", null, [\n              _hoisted_9,\n              _createElementVNode(\"td\", null, _toDisplayString(userData.value.tel), 1)\n            ]),\n            _createElementVNode(\"tr\", null, [\n              _hoisted_10,\n              _createElementVNode(\"td\", null, _toDisplayString(userData.value.address), 1)\n            ]),\n            _createElementVNode(\"tr\", null, [\n              _hoisted_11,\n              _createElementVNode(\"td\", {\n                style: _normalizeStyle({ color: colorStatus.value ? 'green' : 'red' })\n              }, _toDisplayString(colorStatus.value ? \"Already Paid\" : \"not paid yet\"), 5)\n            ])\n          ])\n        ])\n      ]),\n      _hoisted_12\n    ], 32)\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"payOrder-wrap\">\n    <loading v-model:active=\"isLoading\" />\n    <form @submit.prevent=\"payOrderMoney\">\n      <div class=\"left-table\">\n        <table>\n          <thead>\n            <th>Title</th>\n            <th>Quantity</th>\n            <th>Price</th>\n          </thead>\n          <tbody>\n            <tr v-for=\"(list, index) in orderList\" :key=\"index\">\n              <td>{{ list.product.title }}</td>\n              <td>{{ list.qty }} {{ list.product.unit }}</td>\n              <td>{{ currency(list.product.price) }}</td>\n            </tr>\n          </tbody>\n          <tfoot>\n            <tr>\n              <td></td>\n              <td>Total</td>\n              <td>{{ currency(total) }}</td>\n            </tr>\n          </tfoot>\n        </table>\n      </div>\n      <div class=\"right-table\">\n        <table>\n          <tbody>\n            <tr>\n              <th>Email</th>\n              <td>{{ userData.email }}</td>\n            </tr>\n            <tr>\n              <th>Name</th>\n              <td>{{ userData.name }}</td>\n            </tr>\n            <tr>\n              <th>Addressee Phone</th>\n              <td>{{ userData.tel }}</td>\n            </tr>\n            <tr>\n              <th>receiver's address</th>\n              <td>{{ userData.address }}</td>\n            </tr>\n            <tr>\n              <th>payment status</th>\n              <td :style=\"{ color: colorStatus ? 'green' : 'red' }\">\n                {{ colorStatus ? \"Already Paid\" : \"not paid yet\" }}\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class=\"pay-btn\">\n        <button>pay</button>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\n// import axios from \"axios\";\nimport { useRoute } from \"vue-router\";\nimport { ref } from \"vue\";\nimport Loading from \"vue-loading-overlay\";\nimport \"vue-loading-overlay/dist/css/index.css\";\nimport currency from \"../../../utils/filters/currency\";\nimport config from \"../../../../config/dev.env\";\nimport errInterceptors from \"@/errInterceptors\";\n\ninterface GetList {\n  category: string;\n  content: string;\n  description: string;\n  id: string;\n  imageUrl: string;\n  is_enabled: number;\n  origin_price: number;\n  price: number;\n  title: string;\n  unit: string;\n  num: number;\n  image: string;\n}\n\ninterface UpdateGetList {\n  final_total: number;\n  id: string;\n  product: GetList;\n  product_id: string;\n  qty: number;\n  total: number;\n}\n\nconst route = useRoute();\n\nconst isLoading = ref(false);\n\nconst orderList = ref();\n\nconst total = ref(0);\n\nconst userData = ref({\n  name: \"\",\n  address: \"\",\n  tel: \"\",\n  email: \"\",\n});\n\nconst colorStatus = ref(false);\n\nconst getOrderList = async () => {\n  isLoading.value = true;\n  const api = `${config.API_PATH}/api/${config.CUSTOM_PATH}/order/${route.params.orderId}`;\n  const response = await errInterceptors.get(api);\n  orderList.value = response.data.order.products as UpdateGetList;\n  total.value = response.data.order.total;\n  userData.value = response.data.order.user;\n  colorStatus.value = response.data.order.is_paid;\n  console.log(response);\n  isLoading.value = false;\n};\n// const getOrderList = async () => {\n//   isLoading.value = true;\n//   const api = `${config.API_PATH}/api/${config.CUSTOM_PATH}/order/${route.params.orderId}`;\n//   try {\n//     const response = await axios.get(api);\n//     orderList.value = response.data.order.products as UpdateGetList;\n//     total.value = response.data.order.total;\n//     userData.value = response.data.order.user;\n//     colorStatus.value = response.data.order.is_paid;\n//     console.log(response);\n//   } catch (error) {\n//     console.log(error);\n//   } finally {\n//     isLoading.value = false;\n//   }\n// };\n\nconst payOrderMoney = async () => {\n  isLoading.value = true;\n  const api = `${config.API_PATH}/api/${config.CUSTOM_PATH}/pay/${route.params.orderId}`;\n  const response = await errInterceptors.post(api);\n  console.log(response);\n  getOrderList();\n  isLoading.value = false;\n};\n\n// const payOrderMoney = async () => {\n//   isLoading.value = true;\n//   const api = `${config.API_PATH}/api/${config.CUSTOM_PATH}/pay/${route.params.orderId}`;\n//   try {\n//     const response = await axios.post(api);\n//     console.log(response);\n//     getOrderList();\n//   } catch (error) {\n//     console.log(error);\n//   } finally {\n//     isLoading.value = false;\n//   }\n// };\n\ngetOrderList();\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"./index.scss\";\n</style>\n","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=58b972d3&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-58b972d3\"]])\n\nexport default __exports__"],"names":["num","n","Number","toFixed","replace","c","i","a","currency","length","_withScopeId","_pushScopeId","_popScopeId","_hoisted_1","class","_hoisted_2","_hoisted_3","_createElementVNode","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_defineComponent","__name","setup","__props","route","useRoute","isLoading","ref","orderList","total","userData","name","address","tel","email","colorStatus","getOrderList","async","value","api","config","API_PATH","CUSTOM_PATH","params","orderId","response","errInterceptors","get","data","order","products","user","is_paid","console","log","payOrderMoney","post","_ctx","_cache","_openBlock","_createElementBlock","_createVNode","_unref","Loading","active","$event","onSubmit","_withModifiers","_Fragment","_renderList","list","index","key","_toDisplayString","product","title","qty","unit","price","style","_normalizeStyle","color","__exports__"],"sourceRoot":""}