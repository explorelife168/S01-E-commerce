{"version":3,"file":"js/6.b3becd3d.js","mappings":"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","sources":["webpack://e-commerce-s01/./src/utils/filters/currency.ts","webpack://e-commerce-s01/./src/components/global/OrderStatus/index.vue?72b2","webpack://e-commerce-s01/./src/components/global/OrderStatus/index.vue","webpack://e-commerce-s01/./src/components/global/OrderStatus/index.vue?9855"],"sourcesContent":["export default function (num: number): string {\n  const n = Number(num);\n  return `$${n.toFixed(0).replace(/./g, (c, i, a) => {\n    const currency =\n      i && c !== \".\" && (a.length - i) % 3 === 0\n        ? `, ${c}`.replace(/\\s/g, \"\")\n        : c;\n    return currency;\n  })}`;\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, withModifiers as _withModifiers, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-0efa678a\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"order-status-wrap\" }\nconst _hoisted_2 = { class: \"order-container\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"thead\", null, [\n  /*#__PURE__*/_createElementVNode(\"tr\", null, [\n    /*#__PURE__*/_createElementVNode(\"td\", null, \"CreateTime\"),\n    /*#__PURE__*/_createElementVNode(\"td\", null, \"Order ID\"),\n    /*#__PURE__*/_createElementVNode(\"td\", null, \"Paid\"),\n    /*#__PURE__*/_createElementVNode(\"td\", null, \"PaidTime\"),\n    /*#__PURE__*/_createElementVNode(\"td\", null, \"Price\"),\n    /*#__PURE__*/_createElementVNode(\"td\", null, \"Message\")\n  ])\n], -1))\nconst _hoisted_4 = { class: \"pagination\" }\nconst _hoisted_5 = { class: \"left-btn\" }\nconst _hoisted_6 = [\"onClick\"]\nconst _hoisted_7 = { class: \"right-btn\" }\n\nimport { ref } from \"vue\";\nimport Loading from \"vue-loading-overlay\";\nimport \"vue-loading-overlay/dist/css/index.css\";\nimport config from \"../../../../config/dev.env\";\nimport currency from \"@/utils/filters/currency\"; // 小數點\nimport errInterceptors from \"@/errInterceptors\";\n// import useDataStore from \"@/stores/useDataStore\";\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\n// import axios from \"axios\";\nconst isLoading = ref(false);\n\nconst orderListStatusData = ref();\n\n// const dataStore = useDataStore();\n\nconst pagination = ref({\n  category: \"\",\n  current_page: 1,\n  has_next: true,\n  has_pre: false,\n  total_pages: 1,\n});\n\nconst dateTransfer = (t: number): string => {\n  return new Date(t * 1000).toISOString().replace(\"T\", \" \").substring(0, 19);\n};\n\nconst getOrderListStatus = async (page = 1) => {\n  isLoading.value = true;\n  const api = `${config.API_PATH}/api/${config.CUSTOM_PATH}/admin/orders?page=${page}`;\n  const response = await errInterceptors.get(api);\n  console.log(response);\n  orderListStatusData.value = response.data.orders;\n  pagination.value = response.data.pagination;\n  isLoading.value = false;\n};\n\n// const getOrderListStatus = async (page = 1) => {\n//   isLoading.value = true;\n//   const api = `${config.API_PATH}/api/${config.CUSTOM_PATH}/admin/orders?page=${page}`;\n//   try {\n//     const response = await axios.get(api);\n//     console.log(response);\n//     orderListStatusData.value = response.data.orders;\n//     pagination.value = response.data.pagination;\n//   } catch (error) {\n//     console.log(error);\n//   } finally {\n//     isLoading.value = false;\n//   }\n// };\n// const checkSingIn = async () => {\n//   const api = `${config.API_PATH}/api/user/check`;\n//   const response = await errInterceptors.post(api);\n//   if (response.data.success) {\n//     console.log(\"登入狀態為(OrderStatus):\", response.data.success);\n//   } else {\n//     console.log(\"登入狀態為(OrderStatus):\", response.data.success);\n//   }\n// };\n// checkSingIn();\ngetOrderListStatus();\n// dataStore.checkSingIn();\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_unref(Loading), {\n      active: isLoading.value,\n      \"onUpdate:active\": _cache[0] || (_cache[0] = ($event: any) => ((isLoading).value = $event))\n    }, null, 8, [\"active\"]),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"table\", null, [\n        _hoisted_3,\n        _createElementVNode(\"tbody\", null, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(orderListStatusData.value, (order, index) => {\n            return (_openBlock(), _createElementBlock(\"tr\", { key: index }, [\n              _createElementVNode(\"td\", null, _toDisplayString(dateTransfer(order.create_at)), 1),\n              _createElementVNode(\"td\", null, _toDisplayString(order.id), 1),\n              _createElementVNode(\"td\", {\n                style: _normalizeStyle({ color: order.is_paid ? 'green' : 'red' })\n              }, _toDisplayString(order.is_paid ? \"Paid\" : \"Not Pay\"), 5),\n              _createElementVNode(\"td\", null, _toDisplayString(order.is_paid ? dateTransfer(order.paid_date) : \"\"), 1),\n              _createElementVNode(\"td\", null, _toDisplayString(_unref(currency)(order.total)), 1),\n              _createElementVNode(\"td\", {\n                style: _normalizeStyle({ color: order.message ? 'red' : 'green' })\n              }, _toDisplayString(order.message ? \"Y\" : \"N\"), 5)\n            ]))\n          }), 128))\n        ])\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_4, [\n      _createElementVNode(\"div\", _hoisted_5, [\n        _createElementVNode(\"button\", {\n          onClick: _cache[1] || (_cache[1] = _withModifiers(($event: any) => (getOrderListStatus(pagination.value.current_page - 1)), [\"prevent\"])),\n          class: _normalizeClass([\"left\", { disabled: !pagination.value.has_pre }])\n        }, \" << \", 2)\n      ]),\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(pagination.value.total_pages, (pages, index) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          class: \"pages-btn\",\n          key: index\n        }, [\n          _createElementVNode(\"button\", {\n            class: _normalizeClass([\n            `pages-${pages}`,\n            { active: pagination.value.current_page === pages },\n          ]),\n            onClick: _withModifiers(($event: any) => (getOrderListStatus(pages)), [\"prevent\"])\n          }, _toDisplayString(pages), 11, _hoisted_6)\n        ]))\n      }), 128)),\n      _createElementVNode(\"div\", _hoisted_7, [\n        _createElementVNode(\"button\", {\n          onClick: _cache[2] || (_cache[2] = _withModifiers(($event: any) => (getOrderListStatus(pagination.value.current_page + 1)), [\"prevent\"])),\n          class: _normalizeClass([\"right\", { disabled: !pagination.value.has_next }])\n        }, \" >> \", 2)\n      ])\n    ])\n  ]))\n}\n}\n\n})","<template>\n  <div class=\"order-status-wrap\">\n    <loading v-model:active=\"isLoading\" />\n    <div class=\"order-container\">\n      <table>\n        <thead>\n          <tr>\n            <td>CreateTime</td>\n            <td>Order ID</td>\n            <td>Paid</td>\n            <td>PaidTime</td>\n            <td>Price</td>\n            <td>Message</td>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"(order, index) in orderListStatusData\" :key=\"index\">\n            <td>{{ dateTransfer(order.create_at) }}</td>\n            <td>{{ order.id }}</td>\n            <td :style=\"{ color: order.is_paid ? 'green' : 'red' }\">\n              {{ order.is_paid ? \"Paid\" : \"Not Pay\" }}\n            </td>\n            <td>{{ order.is_paid ? dateTransfer(order.paid_date) : \"\" }}</td>\n            <td>{{ currency(order.total) }}</td>\n            <td :style=\"{ color: order.message ? 'red' : 'green' }\">\n              {{ order.message ? \"Y\" : \"N\" }}\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n    <div class=\"pagination\">\n      <div class=\"left-btn\">\n        <button\n          @click.prevent=\"getOrderListStatus(pagination.current_page - 1)\"\n          class=\"left\"\n          :class=\"{ disabled: !pagination.has_pre }\"\n        >\n          &lt;&lt;\n        </button>\n      </div>\n\n      <div\n        class=\"pages-btn\"\n        v-for=\"(pages, index) in pagination.total_pages\"\n        :key=\"index\"\n      >\n        <button\n          :class=\"[\n            `pages-${pages}`,\n            { active: pagination.current_page === pages },\n          ]\"\n          @click.prevent=\"getOrderListStatus(pages)\"\n        >\n          {{ pages }}\n        </button>\n      </div>\n      <div class=\"right-btn\">\n        <button\n          @click.prevent=\"getOrderListStatus(pagination.current_page + 1)\"\n          class=\"right\"\n          :class=\"{ disabled: !pagination.has_next }\"\n        >\n          >>\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\n// import axios from \"axios\";\nimport { ref } from \"vue\";\nimport Loading from \"vue-loading-overlay\";\nimport \"vue-loading-overlay/dist/css/index.css\";\nimport config from \"../../../../config/dev.env\";\nimport currency from \"@/utils/filters/currency\"; // 小數點\nimport errInterceptors from \"@/errInterceptors\";\n// import useDataStore from \"@/stores/useDataStore\";\nconst isLoading = ref(false);\n\nconst orderListStatusData = ref();\n\n// const dataStore = useDataStore();\n\nconst pagination = ref({\n  category: \"\",\n  current_page: 1,\n  has_next: true,\n  has_pre: false,\n  total_pages: 1,\n});\n\nconst dateTransfer = (t: number): string => {\n  return new Date(t * 1000).toISOString().replace(\"T\", \" \").substring(0, 19);\n};\n\nconst getOrderListStatus = async (page = 1) => {\n  isLoading.value = true;\n  const api = `${config.API_PATH}/api/${config.CUSTOM_PATH}/admin/orders?page=${page}`;\n  const response = await errInterceptors.get(api);\n  console.log(response);\n  orderListStatusData.value = response.data.orders;\n  pagination.value = response.data.pagination;\n  isLoading.value = false;\n};\n\n// const getOrderListStatus = async (page = 1) => {\n//   isLoading.value = true;\n//   const api = `${config.API_PATH}/api/${config.CUSTOM_PATH}/admin/orders?page=${page}`;\n//   try {\n//     const response = await axios.get(api);\n//     console.log(response);\n//     orderListStatusData.value = response.data.orders;\n//     pagination.value = response.data.pagination;\n//   } catch (error) {\n//     console.log(error);\n//   } finally {\n//     isLoading.value = false;\n//   }\n// };\n// const checkSingIn = async () => {\n//   const api = `${config.API_PATH}/api/user/check`;\n//   const response = await errInterceptors.post(api);\n//   if (response.data.success) {\n//     console.log(\"登入狀態為(OrderStatus):\", response.data.success);\n//   } else {\n//     console.log(\"登入狀態為(OrderStatus):\", response.data.success);\n//   }\n// };\n// checkSingIn();\ngetOrderListStatus();\n// dataStore.checkSingIn();\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"./index.scss\";\n</style>\n","import script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./index.vue?vue&type=style&index=0&id=0efa678a&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0efa678a\"]])\n\nexport default __exports__"],"names":["num","n","Number","toFixed","replace","c","i","a","currency","length","_withScopeId","_pushScopeId","_popScopeId","_hoisted_1","class","_hoisted_2","_hoisted_3","_createElementVNode","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_defineComponent","__name","setup","__props","isLoading","ref","orderListStatusData","pagination","category","current_page","has_next","has_pre","total_pages","dateTransfer","t","Date","toISOString","substring","getOrderListStatus","async","page","value","api","config","API_PATH","CUSTOM_PATH","response","errInterceptors","get","console","log","data","orders","_ctx","_cache","_openBlock","_createElementBlock","_createVNode","_unref","Loading","active","$event","_Fragment","_renderList","order","index","key","_toDisplayString","create_at","id","style","_normalizeStyle","color","is_paid","paid_date","total","message","onClick","_withModifiers","_normalizeClass","disabled","pages","__exports__"],"sourceRoot":""}