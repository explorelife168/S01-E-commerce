"use strict";(self["webpackChunke_commerce_s01"]=self["webpackChunke_commerce_s01"]||[]).push([[245],{5368:function(l,t,e){function a(l){const t=Number(l);return`$${t.toFixed(0).replace(/./g,((l,t,e)=>{const a=t&&"."!==l&&(e.length-t)%3===0?`, ${l}`.replace(/\s/g,""):l;return a}))}`}e.d(t,{Z:function(){return a}})},8245:function(l,t,e){e.r(t),e.d(t,{default:function(){return S}});var a=e(3396),n=e(4870),u=e(9242),r=e(7139),d=e(2483),o=e(5513),_=e.n(o),s=e(5368),i=e(2835),c=e(9999);const v=l=>((0,a.dD)("data-v-58b972d3"),l=l(),(0,a.Cn)(),l),p={class:"payOrder-wrap"},m={class:"left-table"},w=v((()=>(0,a._)("thead",null,[(0,a._)("th",null,"Title"),(0,a._)("th",null,"Quantity"),(0,a._)("th",null,"Price")],-1))),y=v((()=>(0,a._)("td",null,null,-1))),h=v((()=>(0,a._)("td",null,"Total",-1))),b={class:"right-table"},f=v((()=>(0,a._)("th",null,"Email",-1))),g=v((()=>(0,a._)("th",null,"Name",-1))),Z=v((()=>(0,a._)("th",null,"Addressee Phone",-1))),z=v((()=>(0,a._)("th",null,"receiver's address",-1))),H=v((()=>(0,a._)("th",null,"payment status",-1))),P=v((()=>(0,a._)("div",{class:"pay-btn"},[(0,a._)("button",null,"pay")],-1)));var $=(0,a.aZ)({__name:"index",setup(l){const t=(0,d.yj)(),e=(0,n.iH)(!1),o=(0,n.iH)(),v=(0,n.iH)(0),$=(0,n.iH)({name:"",address:"",tel:"",email:""}),A=(0,n.iH)(!1),T=async()=>{e.value=!0;const l=`${i.Z.API_PATH}/api/${i.Z.CUSTOM_PATH}/order/${t.params.orderId}`,a=await c.Z.get(l);o.value=a.data.order.products,v.value=a.data.order.total,$.value=a.data.order.user,A.value=a.data.order.is_paid,console.log(a),e.value=!1},S=async()=>{e.value=!0;const l=`${i.Z.API_PATH}/api/${i.Z.CUSTOM_PATH}/pay/${t.params.orderId}`,a=await c.Z.post(l);console.log(a),T(),e.value=!1};return T(),(l,t)=>((0,a.wg)(),(0,a.iD)("div",p,[(0,a.Wm)((0,n.SU)(_()),{active:e.value,"onUpdate:active":t[0]||(t[0]=l=>e.value=l)},null,8,["active"]),(0,a._)("form",{onSubmit:(0,u.iM)(S,["prevent"])},[(0,a._)("div",m,[(0,a._)("table",null,[w,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.value,((l,t)=>((0,a.wg)(),(0,a.iD)("tr",{key:t},[(0,a._)("td",null,(0,r.zw)(l.product.title),1),(0,a._)("td",null,(0,r.zw)(l.qty)+" "+(0,r.zw)(l.product.unit),1),(0,a._)("td",null,(0,r.zw)((0,n.SU)(s.Z)(l.product.price)),1)])))),128))]),(0,a._)("tfoot",null,[(0,a._)("tr",null,[y,h,(0,a._)("td",null,(0,r.zw)((0,n.SU)(s.Z)(v.value)),1)])])])]),(0,a._)("div",b,[(0,a._)("table",null,[(0,a._)("tbody",null,[(0,a._)("tr",null,[f,(0,a._)("td",null,(0,r.zw)($.value.email),1)]),(0,a._)("tr",null,[g,(0,a._)("td",null,(0,r.zw)($.value.name),1)]),(0,a._)("tr",null,[Z,(0,a._)("td",null,(0,r.zw)($.value.tel),1)]),(0,a._)("tr",null,[z,(0,a._)("td",null,(0,r.zw)($.value.address),1)]),(0,a._)("tr",null,[H,(0,a._)("td",{style:(0,r.j5)({color:A.value?"green":"red"})},(0,r.zw)(A.value?"Already Paid":"not paid yet"),5)])])])]),P],32)]))}}),A=e(89);const T=(0,A.Z)($,[["__scopeId","data-v-58b972d3"]]);var S=T}}]);
//# sourceMappingURL=245.ccbd26e3.js.map